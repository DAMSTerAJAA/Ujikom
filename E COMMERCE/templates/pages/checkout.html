{% extends "base.html" %}
{% load static %}
{% block title %} checkout {% endblock  %}

{% block midtrans %}<script src="https://app.sandbox.midtrans.com/snap/snap.js" data-client-key="{{ client}}"></script>{% endblock %}

{% block contents %}
<main class="container mx-auto mt-8 px-6">
    <h1 class="text-3xl font-bold mb-4">Checkout</h1>
    <div class="bg-white shadow rounded-lg p-6">
        <h2 class="text-2xl font-bold mb-4">Billing Details</h2>
        <div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                    <label class="block text-gray-700">First Name</label>
                    <input class="w-full mt-1 p-2 border rounded" type="text" placeholder="First Name"/>
                </div>
                <div>
                    <label class="block text-gray-700">Last Name</label>
                    <input class="w-full mt-1 p-2 border rounded" type="text" placeholder="Last Name"/>
                </div>
                <div>
                    <label class="block text-gray-700">Email</label>
                    <input class="w-full mt-1 p-2 border rounded" type="email" placeholder="Email"/>
                </div>
                <div>
                    <label class="block text-gray-700">Phone</label>
                    <input class="w-full mt-1 p-2 border rounded" type="tel" placeholder="Phone"/>
                </div>
            </div>
            <div class="mt-6">
                <button id="pay-button" class="bg-blue-500 text-white px-4 py-2 rounded w-full sm:w-auto">Place Order</button>
            </div>
        </div>
    </div>
</main>
<script type="text/javascript">
    document.getElementById('pay-button').onclick = function(){
      // SnapToken acquired from previous step
      snap.pay("{{ token }}", {
        // Optional
        onSuccess: function(result){
          /* You may add your own js here, this is just example */ document.getElementById('result-json').innerHTML += JSON.stringify(result, null, 2);
        },
        // Optional
        onPending: function(result){
          /* You may add your own js here, this is just example */ document.getElementById('result-json').innerHTML += JSON.stringify(result, null, 2);
        },
        // Optional
        onError: function(result){
          /* You may add your own js here, this is just example */ document.getElementById('result-json').innerHTML += JSON.stringify(result, null, 2);
        }
      });
    };
  </script>


{% endblock  %}




